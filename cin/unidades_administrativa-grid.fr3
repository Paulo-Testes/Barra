<?xml version="1.0" encoding="utf-8" standalone="no"?>
<inherited ParentReport="Paisagem" PreviewOptions.AllowEdit="False" PreviewOptions.Buttons="1535" ReportOptions.LastChange="44221,6485493171" ScriptText.Text="var seqDep: Boolean;&#13;&#10;&#13;&#10;procedure MasterData1OnBeforePrint(Sender: TfrxComponent);&#13;&#10;begin&#13;&#10;  if &#60;SqlUnidsAdm.&#34;TIPO&#34;&#62; &#60;&#62; 1 then&#13;&#10;    bndUndsAdm.Visible := false&#13;&#10;  else&#13;&#10;  begin&#13;&#10;    bndUndsAdm.Visible := true;&#13;&#10;    seqDep := false;&#13;&#10;  end;&#13;&#10;end;&#13;&#10;&#13;&#10;procedure bndDepartamentosOnBeforePrint(Sender: TfrxComponent);&#13;&#10;begin&#13;&#10;  if (seqDep and (&#60;SqlUnidsAdm.&#34;TIPO&#34;&#62; = 2)) then&#13;&#10;  begin&#13;&#10;    bndDepartamentos.Visible := false;&#13;&#10;    bndDadosDepartamento.Visible := true;&#13;&#10;  end&#13;&#10;  else&#13;&#10;  begin&#13;&#10;    bndDepartamentos.Visible := false;&#13;&#10;    bndDadosDepartamento.Visible := false;&#13;&#10;    seqDep := &#60;SqlUnidsAdm.&#34;TIPO&#34;&#62; = 2;&#13;&#10;    bndDepartamentos.Visible := seqDep;&#13;&#10;    if seqDep then&#13;&#10;       bndDadosDepartamento.Visible := true;&#13;&#10;  end;&#13;&#10;end;&#13;&#10;&#13;&#10;begin&#13;&#10;&#13;&#10;end." StoreInDFM="False">
  <Datasets>
    <item DataSet="SqlCliente" DataSetName="SqlCliente"/>
    <item DataSet="SqlUsuario" DataSetName="SqlUsuario"/>
    <item DataSet="SqlModulo" DataSetName="SqlModulo"/>
    <item DataSet="SqlUnidsAdm" DataSetName="SqlUnidsAdm"/>
  </Datasets>
  <Variables>
    <item InheritedName=" Internas"/>
    <item InheritedName="IdModulo"/>
    <item InheritedName="Personalizado"/>
    <item InheritedName="Formato"/>
    <item InheritedName="CodigoRelatorio"/>
    <item InheritedName=" Disponiveis"/>
    <item InheritedName="IdEntidade"/>
    <item InheritedName="IdRelatorioFiltro"/>
    <item InheritedName="Competencia"/>
    <item InheritedName=" Utilizadas"/>
    <item InheritedName="IdUsuario"/>
    <item Name="EntidadeId" Value="1"/>
  </Variables>
  <inherited Name="Data">
    <inherited Name="SqlCliente"/>
    <inherited Name="SqlUsuario"/>
    <inherited Name="SqlModulo"/>
    <TfrxADOQuery Name="SqlUnidsAdm" UserName="SqlUnidsAdm" CloseDataSource="True" FieldAliases.Text="" BCDToCurrency="False" IgnoreDupParams="False" SQL.Text="select &#13;&#10;	und.id,&#13;&#10;    und.nome,&#13;&#10;    und.sigla,&#13;&#10;    coalesce(fun.nome, 'Sem responsável definido') as nome_responsavel,&#13;&#10;    1 as tipo,&#13;&#10;    null as nome_departamento,&#13;&#10;    null as sigla_departamento,&#13;&#10;    null as nome_resp_departamento,&#13;&#10;    null as nome_dep_pai&#13;&#10;from cin_unids_adms und&#13;&#10;left join cin_funcionarios fun on und.cin_responsavel_id = fun.id&#13;&#10;where und.cin_entidade_id = :EntidadeId                                   &#13;&#10;&#13;&#10;union&#13;&#10;&#13;&#10;  select&#13;&#10;    und.id,&#13;&#10;    null as nome,&#13;&#10;    null as sigla,&#13;&#10;    null as nome_responsavel,&#13;&#10;    2 as tipo,&#13;&#10;    dep.nome as nome_departamento,&#13;&#10;    dep.sigla as sigla_departamento,&#13;&#10;    fdep.nome as nome_resp_departamento,&#13;&#10;    depai.nome as nome_dep_pai&#13;&#10;  from cin_unids_adms und&#13;&#10;  left join cin_funcionarios fun on und.cin_responsavel_id = fun.id&#13;&#10;  left join cin_departamentos dep on und.id = dep.cin_unid_adm_id&#13;&#10;  left join cin_funcionarios fdep on dep.cin_responsavel_id = fdep.id&#13;&#10;  left join cin_departamentos depai on dep.cin_departamento_origem_id = depai.id&#13;&#10;  where dep.nome is not null and und.cin_entidade_id = :EntidadeId   &#13;&#10;&#13;&#10;  order by 1, 5   &#13;&#10;                                                                                                                                                                                " CommandTimeout="30" LockType="ltReadOnly" PropData="05704C65667402300470546F7002640A506172616D657465727301010649204E616D653D22456E7469646164654964222044617461547970653D226674496E7465676572222045787072657373696F6E3D22262336303B456E7469646164654964262336323B2200010649204E616D653D22456E7469646164654964222044617461547970653D226674496E7465676572222045787072657373696F6E3D22262336303B456E7469646164654964262336323B220000"/>
  </inherited>
  <inherited Name="Page1" PaperSize="9">
    <inherited Name="bndCabecalho">
      <inherited Name="Logo"/>
      <inherited Name="Brasao"/>
      <inherited Name="TxtNomeCliente"/>
      <inherited Name="TxtTitulo1"/>
      <inherited Name="TxtTitulo2"/>
      <inherited Name="TxtTituloRelatorio" Text="Unidades Administrativa"/>
      <inherited Name="Line1"/>
      <inherited Name="TxtData"/>
      <inherited Name="TxtHora"/>
      <inherited Name="TxtCompetencia"/>
    </inherited>
    <inherited Name="BndRodape" Top="256">
      <inherited Name="Line2"/>
      <inherited Name="TxtRodape"/>
      <inherited Name="TxtPaginacao"/>
      <inherited Name="TxtDataHora"/>
    </inherited>
    <TfrxGroupHeader Name="grpPrincipal" FillType="ftBrush" FillGap.Top="0" FillGap.Left="0" FillGap.Bottom="0" FillGap.Right="0" Frame.Typ="0" Height="18,8976378" Left="0" Top="104" Width="1046,92981" Condition="SqlCliente.&#34;NOME&#34;" ReprintOnNewPage="True">
      <TfrxMemoView Name="Memo3" AllowVectorExport="True" Left="0" Top="0" Width="518,42548" Height="16" Font.Charset="1" Font.Color="16777215" Font.Height="-11" Font.Name="Tahoma" Font.Style="1" Font.Quality="fqClearTypeNatural" Frame.Color="16777215" Frame.ShadowWidth="0" Frame.Typ="15" Frame.RightLine.Color="7754282" Fill.BackColor="7754282" ParentFont="False" VAlign="vaCenter" Text="NOME"/>
      <TfrxMemoView Name="Memo4" AllowVectorExport="True" Left="513,01608" Top="0,11812" Width="76,22047" Height="16" Font.Charset="1" Font.Color="16777215" Font.Height="-11" Font.Name="Tahoma" Font.Style="1" Font.Quality="fqClearTypeNatural" Frame.Color="16777215" Frame.Typ="15" Frame.RightLine.Color="7754282" Fill.BackColor="7754282" ParentFont="False" VAlign="vaCenter" Text="SIGLA"/>
      <TfrxMemoView Name="Memo5" AllowVectorExport="True" Left="586,60668" Top="0,11812" Width="459,590551181102" Height="16" Font.Charset="1" Font.Color="16777215" Font.Height="-11" Font.Name="Tahoma" Font.Style="1" Font.Quality="fqClearTypeNatural" Frame.Color="16777215" Frame.Typ="15" Frame.RightLine.Color="7754282" Fill.BackColor="7754282" ParentFont="False" VAlign="vaCenter" Text="RESPONSÁVEL PELA UNIDADE"/>
    </TfrxGroupHeader>
    <TfrxMasterData Name="bndUndsAdm" FillType="ftBrush" Fill.BackColor="-16777216" FillGap.Top="0" FillGap.Left="0" FillGap.Bottom="0" FillGap.Right="0" Frame.Typ="0" Height="19,65354331" Left="0" Top="144" Width="1046,92981" OnBeforePrint="MasterData1OnBeforePrint" Child="bndDepartamentos" ColumnWidth="0" ColumnGap="0" DataSet="SqlUnidsAdm" DataSetName="SqlUnidsAdm" PrintChildIfInvisible="True" RowCount="0" Stretched="True">
      <TfrxMemoView Name="txtNomeAdmUnid" AllowVectorExport="True" Left="0" Top="0" Width="509,76407" Height="17,55906" StretchMode="smActualHeight" DataField="nome" DataSet="SqlUnidsAdm" DataSetName="SqlUnidsAdm" Font.Charset="1" Font.Color="-16777208" Font.Height="-11" Font.Name="Tahoma" Font.Style="1" Font.Quality="fqClearTypeNatural" Frame.Color="536870911" Frame.Typ="0" ParentFont="False" Text="[SqlUnidsAdm.&#34;nome&#34;]"/>
      <TfrxMemoView Name="txtSiglaAdmUnid" AllowVectorExport="True" Left="513,23655" Top="0" Width="75,11812" Height="17,55906" StretchMode="smActualHeight" DataField="sigla" DataSet="SqlUnidsAdm" DataSetName="SqlUnidsAdm" Font.Charset="1" Font.Color="-16777208" Font.Height="-11" Font.Name="Tahoma" Font.Style="1" Font.Quality="fqClearTypeNatural" Frame.Color="536870911" Frame.Typ="0" ParentFont="False" Text="[SqlUnidsAdm.&#34;sigla&#34;]"/>
      <TfrxMemoView Name="txtRespAdmUnid" AllowVectorExport="True" Left="585,82715" Top="0" Width="472,44094488" Height="17,55906" StretchMode="smActualHeight" DataField="nome_responsavel" DataSet="SqlUnidsAdm" DataSetName="SqlUnidsAdm" Font.Charset="1" Font.Color="-16777208" Font.Height="-11" Font.Name="Tahoma" Font.Style="1" Font.Quality="fqClearTypeNatural" Frame.Color="536870911" Frame.Typ="0" ParentFont="False" Text="[SqlUnidsAdm.&#34;nome_responsavel&#34;]"/>
    </TfrxMasterData>
    <TfrxChild Name="bndDepartamentos" FillType="ftBrush" FillGap.Top="0" FillGap.Left="0" FillGap.Bottom="0" FillGap.Right="0" Frame.Typ="0" Height="16" Left="0" Top="184" Width="1046,92981" OnBeforePrint="bndDepartamentosOnBeforePrint" Child="bndDadosDepartamento" PrintChildIfInvisible="True" ToNRows="0" ToNRowsMode="rmCount">
      <TfrxMemoView Name="lblNomeDep" AllowVectorExport="True" Left="15,11812" Top="0" Width="318,11039" Height="16" Font.Charset="1" Font.Color="16777215" Font.Height="-11" Font.Name="Tahoma" Font.Style="1" Font.Quality="fqClearTypeNatural" Frame.Color="16777215" Frame.Typ="15" Frame.RightLine.Color="7754282" Fill.BackColor="7754282" ParentFont="False" VAlign="vaCenter" Text="NOME DO DEPARTAMENTO"/>
      <TfrxMemoView Name="lblSiglaDep" AllowVectorExport="True" Left="334,37817" Top="0" Width="76,22047" Height="16" Font.Charset="1" Font.Color="16777215" Font.Height="-11" Font.Name="Tahoma" Font.Style="1" Font.Quality="fqClearTypeNatural" Frame.Color="16777215" Frame.Typ="15" Frame.RightLine.Color="7754282" Fill.BackColor="7754282" ParentFont="False" VAlign="vaCenter" Text="SIGLA"/>
      <TfrxMemoView Name="lblRespDep" AllowVectorExport="True" Left="410,96877" Top="0" Width="306,7718" Height="16" Font.Charset="1" Font.Color="16777215" Font.Height="-11" Font.Name="Tahoma" Font.Style="1" Font.Quality="fqClearTypeNatural" Frame.Color="16777215" Frame.Typ="15" Frame.RightLine.Color="7754282" Fill.BackColor="7754282" ParentFont="False" VAlign="vaCenter" Text="RESPONSÁVEL PELO DEPARTAMENTO"/>
      <TfrxMemoView Name="lblPaiDep" AllowVectorExport="True" Left="718,89023" Top="0" Width="327,307086614173" Height="16" Font.Charset="1" Font.Color="16777215" Font.Height="-11" Font.Name="Tahoma" Font.Style="1" Font.Quality="fqClearTypeNatural" Frame.Color="16777215" Frame.Typ="15" Frame.RightLine.Color="7754282" Fill.BackColor="7754282" ParentFont="False" VAlign="vaCenter" Text="DEPARTAMENTO PAI"/>
    </TfrxChild>
    <TfrxChild Name="bndDadosDepartamento" FillType="ftBrush" FillGap.Top="0" FillGap.Left="0" FillGap.Bottom="0" FillGap.Right="0" Frame.Typ="0" Height="17,77953" Left="0" Top="220" Width="1046,92981" Stretched="True" ToNRows="0" ToNRowsMode="rmCount">
      <TfrxMemoView Name="txtNomeDep" AllowVectorExport="True" Left="15,11812" Top="0,22047" Width="317,00804" Height="17,55906" StretchMode="smActualHeight" DataSet="SqlUnidsAdm" DataSetName="SqlUnidsAdm" Font.Charset="1" Font.Color="-16777208" Font.Height="-11" Font.Name="Tahoma" Font.Style="1" Font.Quality="fqClearTypeNatural" Frame.Color="536870911" Frame.Typ="0" ParentFont="False" WordBreak="True" Text="[SqlUnidsAdm.&#34;nome_departamento&#34;]"/>
      <TfrxMemoView Name="txtSiglaDep" AllowVectorExport="True" Left="332,59864" Top="0" Width="75,11812" Height="17,55906" DataSet="SqlUnidsAdm" DataSetName="SqlUnidsAdm" Font.Charset="1" Font.Color="-16777208" Font.Height="-11" Font.Name="Tahoma" Font.Style="1" Font.Quality="fqClearTypeNatural" Frame.Color="536870911" Frame.Typ="0" ParentFont="False" Text="[SqlUnidsAdm.&#34;sigla_departamento&#34;]"/>
      <TfrxMemoView Name="txtRespDep" AllowVectorExport="True" Left="408,18924" Top="0,22047" Width="309,44898" Height="17,55906" StretchMode="smActualHeight" DataSet="SqlUnidsAdm" DataSetName="SqlUnidsAdm" Font.Charset="1" Font.Color="-16777208" Font.Height="-11" Font.Name="Tahoma" Font.Style="1" Font.Quality="fqClearTypeNatural" Frame.Color="536870911" Frame.Typ="0" ParentFont="False" Text="[SqlUnidsAdm.&#34;nome_resp_departamento&#34;]"/>
      <TfrxMemoView Name="txtPaiDep" AllowVectorExport="True" Left="718,1107" Top="0,22047" Width="328,34663" Height="17,55906" StretchMode="smActualHeight" DataSet="SqlUnidsAdm" DataSetName="SqlUnidsAdm" Font.Charset="1" Font.Color="-16777208" Font.Height="-11" Font.Name="Tahoma" Font.Style="1" Font.Quality="fqClearTypeNatural" Frame.Color="536870911" Frame.Typ="0" ParentFont="False" Text="[SqlUnidsAdm.&#34;nome_dep_pai&#34;]"/>
    </TfrxChild>
  </inherited>
</inherited>
